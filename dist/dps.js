!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.dps=e():t.dps=e()}(self,(()=>(()=>{var t={90:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(769),o=r(125),i=r(393),a=r(614),u=["name","id","x","y"];function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,r){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),function(t,e){if(void 0===t)throw new TypeError("attempted to get private static field before its declaration")}(r),function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,l;return e=t,l=[{key:"draw",value:function(t){var e=t.x,r=t.y,n=t.radius,i=t.color;t.line,o.Z.ctx.beginPath(),o.Z.ctx.fillStyle=i,o.Z.ctx.arc(e,r,n,0,2*Math.PI),o.Z.ctx.fill(),o.Z.ctx.closePath()}},{key:"circle",get:function(){return d(t,t,v)}},{key:"currents",value:function(e,r){var o=d(t,t,v).find((function(t){return n.Z.circleCollision(e,r,0,t.x,t.y,t.radius)})),a=i.Z.text.find((function(t){return t.uid===(null==o?void 0:o.uid)}));return[o,a]}},{key:"down",value:function(e,r){var n,i,a=(n=t.currents(e,r),i=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(n,i)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[0],l=a[1];if(u)return o.Z.isMoving=!0,{currents:[u,l],lx:e,ly:r}}},{key:"pop",value:function(){var e=d(this,t,v).pop(),r=i.Z.text.find((function(t){return t.uid===(null==e?void 0:e.nuidauidme)}));r&&i.Z.deleteTextByName(r.uid)}}],(r=[{key:"add",value:function(e){var r=e.name,n=(e.id,e.x),o=e.y,c=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(e,u),l=(0,a.E)();d(t,t,v).push(f(f({},c),{},{x:n,y:o,name:r,uid:l})),i.Z.add({name:r,x:n,y:o,uid:l})}}])&&y(e.prototype,r),l&&y(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}(),v={writable:!0,value:[]}},352:(t,e,r)=>{var n=r(125).Z,o=r(114).Z,i=r(90).Z,a=r(754).Z;t.exports={Square:o,Circle:i,Line:a,Base:n}},754:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var n=r(125),o=r(90),i=r(769);function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"draw",value:function(t){var e=t.mt,r=t.lt,o=t.color,i=t.dash;n.Z.ctx.beginPath(),n.Z.ctx.strokeStyle=o||"crimson",i?n.Z.ctx.setLineDash([10,5]):n.Z.ctx.setLineDash([]),n.Z.ctx.moveTo(e.x,e.y),n.Z.ctx.lineTo(r.x,r.y),n.Z.ctx.stroke(),n.Z.ctx.closePath()}},{key:"line",get:function(){return r=c,function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(e=t,t),function(t,e){if(void 0===t)throw new TypeError("attempted to get private static field before its declaration")}(r),function(t,e){return e.get?e.get.call(t):e.value}(e,r);var e,r}},{key:"move",value:function(t,e){return o.Z.lineCircle.find((function(r){return i.Z.circleCollision(t,e,0,r.x,r.y,r.radius)}))}}],null&&a(e.prototype,null),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),c={writable:!0,value:[]}},125:(t,e,r)=>{"use strict";r.d(e,{Z:()=>g});var n=r(769),o=r(114),i=r(90),a=r(393),u=r(754);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,h(t,e,"get"))}function v(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,h(t,e,"set"),r),r}function h(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var b=new WeakMap,w=new WeakMap,g=function(){function t(e){var r,a=this,c=e.root,s=e.width,d=e.height;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,b,{writable:!0,value:void 0}),y(this,w,{writable:!0,value:void 0}),this.root=c,v(this,b,null),v(this,w,null),this.lastX=null,this.lastY=null,t.ctx=null===(r=this.root)||void 0===r?void 0:r.getContext("2d"),t.isMoving=!1,this.root.width=s||700,this.root.height=d||400,this.color,this.root.addEventListener("mousedown",(function(e){var r=e.clientX,n=e.clientY,u=r-a.root.getBoundingClientRect().left,c=n-a.root.getBoundingClientRect().top,l=o.Z.down(u,c)||i.Z.down(u,c);t.isMoving&&(v(a,w,l.currents),a.lastX=l.lx,a.lastY=l.ly)})),this.root.addEventListener("mousemove",(function(e){var r=e.clientX,i=e.clientY;if(p(a,w)){var c=r-a.root.getBoundingClientRect().left,s=i-a.root.getBoundingClientRect().top;if(a.root.style.cursor="auto",t.isMoving){a.root.style.cursor="move";var y,d=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(p(a,w));try{for(d.s();!(y=d.n()).done;){var v=y.value;v.x+=c-a.lastX,v.y+=s-a.lastY}}catch(t){d.e(t)}finally{d.f()}a.lastX=c,a.lastY=s,a.drawAll();var h=n.Z.equalization(p(a,w)[0],o.Z.square,a.root.width,a.root.height);h.length>0&&u.Z.draw(l(l({},h[0]),{},{dash:!0}))}}})),this.root.addEventListener("mouseup",(function(){return t.isMoving=!1})),this.root.addEventListener("mouseleave",(function(){return t.isMoving=!1})),this.root.addEventListener("contextmenu",(function(t){t.preventDefault();var e=t.clientX-a.root.getBoundingClientRect().left,r=t.clientY-a.root.getBoundingClientRect().top,n=[o.Z.currents(e,r),i.Z.currents(e,r)].find((function(t){return t.every((function(t){return t}))&&t}));n&&a.root.dispatchEvent(new CustomEvent("dps:click",{cancelable:!0,detail:{item:n}}))}))}var e,r;return e=t,(r=[{key:"canvasBackground",set:function(t){this.color=t,o.Z.draw({x:0,y:0,width:this.root.width,height:this.root.height,color:t})}},{key:"status",set:function(t){v(this,b,["square","circle"].includes(t)&&t)}},{key:"case",get:function(){return p(this,b)}},{key:"coordinate",get:function(){return{squares:o.Z.square,circles:i.Z.circle}}},{key:"undo",value:function(t){if(t&&p(this,b)){var e=t||p(this,b);"square"===e?o.Z.pop():"circle"===e&&i.Z.pop(),this.drawAll()}}},{key:"drawAll",value:function(){t.ctx.clearRect(0,0,this.root.width,this.root.height),this.canvasBackground=this.color,o.Z.square.forEach((function(t){return o.Z.draw(t)})),i.Z.circle.forEach((function(t){return i.Z.draw(t)})),a.Z.text.forEach((function(t){return a.Z.draw(t)}))}}])&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();d(g,"ctx",void 0),d(g,"isMoving",void 0)},114:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(769),o=r(125),i=r(393),a=r(614),u=["name","x","y"];function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,r){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),function(t,e){if(void 0===t)throw new TypeError("attempted to get private static field before its declaration")}(r),function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,l;return e=t,l=[{key:"draw",value:function(t){var e=t.x,r=t.y,n=t.width,i=t.height,a=t.color;o.Z.ctx.beginPath(),o.Z.ctx.fillStyle=a,o.Z.ctx.fillRect(e,r,n,i||n),o.Z.ctx.fill(),o.Z.ctx.closePath()}},{key:"square",get:function(){return d(t,t,v)}},{key:"currents",value:function(e,r){var o=d(t,t,v).find((function(t){return n.Z.squareCollision(e,r,{width:t.width,height:t.height,x:t.x,y:t.y})})),a=i.Z.text.find((function(t){return t.uid===(null==o?void 0:o.uid)}));return[o,a]}},{key:"pop",value:function(){var e=d(this,t,v).pop(),r=i.Z.text.find((function(t){return t.uid===(null==e?void 0:e.uid)}));r&&i.Z.deleteTextById(r.uid)}},{key:"down",value:function(e,r){var n,i,a=(n=t.currents(e,r),i=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(n,i)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[0],l=a[1];if(u)return o.Z.isMoving=!0,{currents:[u,l],lx:e,ly:r}}}],(r=[{key:"add",value:function(e){var r=e.name,n=e.x,o=e.y,c=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(e,u),l=(0,a.E)();d(t,t,v).push(f(f({},c),{},{x:n,y:o,uid:l})),i.Z.add({uid:l,name:r,x:n+c.width/2,y:o+(c.height||c.width)/2})}}])&&y(e.prototype,r),l&&y(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}(),v={writable:!0,value:[]}},393:(t,e,r)=>{"use strict";r.d(e,{Z:()=>c});var n=r(125);function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r){return u(t,e),a(r,"get"),function(t,e){return e.get?e.get.call(t):e.value}(t,r)}function a(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}function u(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"draw",value:function(t){var e=t.x,r=t.y,o=t.name,i=t.color;n.Z.ctx.beginPath(),n.Z.ctx.fillStyle=i||"#fff",n.Z.ctx.font="15px Arial",n.Z.ctx.textAlign="center",n.Z.ctx.textBaseline="middle",n.Z.ctx.fillText(o,e,r),n.Z.ctx.closePath()}},{key:"text",get:function(){return i(t,t,l)}},{key:"add",value:function(e){i(t,t,l).push(e)}},{key:"deleteTextByName",value:function(e){var r,n,o,c;r=t,n=t,o=l,c=i(t,t,l).filter((function(t){return t.uid!==e})),u(r,n),a(o,"set"),function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(r,o,c)}}],null&&o(e.prototype,null),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),l={writable:!0,value:[]}},769:(t,e,r)=>{"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}r.d(e,{Z:()=>o});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"circleCollision",value:function(t,e,r,n,o,i){var a=t-n,u=e-o;if(r+i>Math.sqrt(a*a+u*u))return!0}},{key:"squareCollision",value:function(t,e,r){return t+0>=r.x&&t<=r.x+r.width&&e+0>=r.y&&e<=r.y+(r.height||r.width)}},{key:"cornerViolationDetected",value:function(t,e,r){if(t.x<=0||t.x+t.width>=e||t.y<=0||t.y+t.width>=r)return!0}},{key:"equalization",value:function(t,e,r,n){return e.filter((function(e){return e.uid!==t.uid})).map((function(e){return t.y===e.y?{mt:{x:0,y:t.y},lt:{x:r,y:t.y}}:t.x===e.x?{mt:{x:t.x,y:0},lt:{x:t.x,y:n}}:e.y+e.width===t.y?{mt:{x:0,y:e.y+e.width},lt:{x:r,y:e.y+e.width}}:e.x+e.width===t.x?{mt:{x:t.x,y:0},lt:{x:t.x,y:n}}:t.x+t.width===e.x?{mt:{x:t.x+t.width,y:0},lt:{x:t.x+t.width,y:n}}:t.y+t.width===e.y?{mt:{x:0,y:t.y+t.width},lt:{x:r,y:t.y+t.width}}:t.x+t.width===e.x?{mt:{x:t.x+t.width,y:0},lt:{x:t.x+t.width,y:n}}:void 0})).filter((function(t){return void 0!==t}))}}],null&&n(e.prototype,null),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},614:(t,e,r)=>{"use strict";r.d(e,{E:()=>n});var n=function(){return"".concat((new Date).valueOf()).concat(Math.floor(999*Math.random())+1)}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}return r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r(352)})()));