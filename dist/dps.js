!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.dps=e():t.dps=e()}(self,(()=>(()=>{var t={90:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(258),o=r(393),i=r(769),a=r(614),u=["name","id","x","y"];function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,r){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),function(t,e){if(void 0===t)throw new TypeError("attempted to get private static field before its declaration")}(r),function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type="circle"}var e,r,l;return e=t,l=[{key:"draw",value:function(t){var e=t.x,r=t.y,o=t.radius,i=t.color;t.line,n.Z.ctx.beginPath(),n.Z.ctx.fillStyle=i,n.Z.ctx.arc(e,r,o,0,2*Math.PI),n.Z.ctx.fill(),n.Z.ctx.closePath()}},{key:"circle",get:function(){return d(t,t,v)}},{key:"currents",value:function(e,r){var n=d(t,t,v).find((function(t){return(0,i.O0)(e,r,0,t.x,t.y,t.radius)})),a=o.Z.text.find((function(t){return t.uid===(null==n?void 0:n.uid)}));return[n,a]}},{key:"down",value:function(e,r){var o,i,a=(o=t.currents(e,r),i=2,function(t){if(Array.isArray(t))return t}(o)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(o,i)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[0],l=a[1];if(u)return n.Z.isMoving=!0,{currents:[u,l],lx:e,ly:r}}},{key:"pop",value:function(){var e=d(this,t,v).pop(),r=o.Z.text.find((function(t){return t.uid===(null==e?void 0:e.nuidauidme)}));r&&o.Z.deleteTextByName(r.uid)}}],(r=[{key:"add",value:function(e){var r=e.name,n=(e.id,e.x),i=e.y,c=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(e,u),l=(0,a.E)();d(t,t,v).push(f(f({},c),{},{x:n,y:i,name:r,uid:l,type:this.type})),o.Z.add({name:r,x:n,y:i,uid:l})}}])&&y(e.prototype,r),l&&y(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}(),v={writable:!0,value:[]}},352:(t,e,r)=>{var n=r(258).Z,o=r(114).Z,i=r(90).Z;t.exports={Square:o,Circle:i,Base:n}},258:(t,e,r)=>{"use strict";r.d(e,{Z:()=>m});var n=r(114),o=r(90),i=r(393);function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"draw",value:function(t){var e=t.mt,r=t.lt,n=t.color,o=t.dash;m.ctx.beginPath(),m.ctx.strokeStyle=n||"crimson",o?m.ctx.setLineDash([10,5]):m.ctx.setLineDash([]),m.ctx.moveTo(e.x,e.y),m.ctx.lineTo(r.x,r.y),m.ctx.stroke(),m.ctx.closePath()}},{key:"line",get:function(){return r=c,function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(e=t,t),function(t,e){if(void 0===t)throw new TypeError("attempted to get private static field before its declaration")}(r),function(t,e){return e.get?e.get.call(t):e.value}(e,r);var e,r}}],null&&a(e.prototype,null),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),c={writable:!0,value:[]},l=r(769);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,w(t,e,"get"))}function b(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,w(t,e,"set"),r),r}function w(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var g=new WeakMap,x=new WeakMap,m=function(){function t(e){var r,i=this,a=e.root,c=e.width,f=e.height;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,g,{writable:!0,value:void 0}),p(this,x,{writable:!0,value:void 0}),this.root=a,b(this,g,null),b(this,x,null),this.lastX=null,this.lastY=null,t.ctx=null===(r=this.root)||void 0===r?void 0:r.getContext("2d"),t.isMoving=!1,this.root.width=c||700,this.root.height=f||400,this.color,this.root.addEventListener("mousedown",(function(e){var r=e.clientX,a=e.clientY,u=r-i.root.getBoundingClientRect().left,c=a-i.root.getBoundingClientRect().top,l=n.Z.down(u,c)||o.Z.down(u,c);t.isMoving&&(b(i,x,l.currents),i.lastX=l.lx,i.lastY=l.ly)})),this.root.addEventListener("mousemove",(function(e){var r=e.clientX,o=e.clientY;if(h(i,x)){var a=r-i.root.getBoundingClientRect().left,c=o-i.root.getBoundingClientRect().top;if(i.root.style.cursor="auto",t.isMoving){i.root.style.cursor="move";var f,d=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(h(i,x));try{for(d.s();!(f=d.n()).done;){var p=f.value;p.x+=a-i.lastX,p.y+=c-i.lastY}}catch(t){d.e(t)}finally{d.f()}i.lastX=a,i.lastY=c,i.drawAll();var v=(0,l.X)(h(i,x)[0],n.Z.square,i.root.width,i.root.height);v.length>0&&u.draw(s(s({},v[0]),{},{dash:!0}))}}})),this.root.addEventListener("mouseup",(function(){return t.isMoving=!1})),this.root.addEventListener("mouseleave",(function(){return t.isMoving=!1})),this.root.addEventListener("contextmenu",(function(t){t.preventDefault();var e=t.clientX-i.root.getBoundingClientRect().left,r=t.clientY-i.root.getBoundingClientRect().top,a=[n.Z.currents(e,r),o.Z.currents(e,r)].find((function(t){return t.every((function(t){return t}))&&t}));a&&i.root.dispatchEvent(new CustomEvent("dps:click",{cancelable:!0,detail:{item:a}}))}))}var e,r;return e=t,(r=[{key:"canvasBackground",set:function(t){this.color=t,n.Z.draw({x:0,y:0,width:this.root.width,height:this.root.height,color:t})}},{key:"status",set:function(t){b(this,g,["square","circle"].includes(t)&&t)}},{key:"case",get:function(){return h(this,g)}},{key:"coordinate",get:function(){return{squares:n.Z.square,circles:o.Z.circle}}},{key:"undo",value:function(t){if(t&&h(this,g)){var e=t||h(this,g);"square"===e?n.Z.pop():"circle"===e&&o.Z.pop(),this.drawAll()}}},{key:"drawAll",value:function(){t.ctx.clearRect(0,0,this.root.width,this.root.height),this.canvasBackground=this.color,n.Z.square.forEach((function(t){return n.Z.draw(t)})),o.Z.circle.forEach((function(t){return o.Z.draw(t)})),i.Z.text.forEach((function(t){return i.Z.draw(t)}))}}])&&d(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();v(m,"ctx",void 0),v(m,"isMoving",void 0)},114:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(258),o=r(393),i=r(769),a=r(614),u=["name","x","y"];function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,r){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),function(t,e){if(void 0===t)throw new TypeError("attempted to get private static field before its declaration")}(r),function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type="square"}var e,r,l;return e=t,l=[{key:"draw",value:function(t){var e=t.x,r=t.y,o=t.width,i=t.height,a=t.color;n.Z.ctx.beginPath(),n.Z.ctx.fillStyle=a,n.Z.ctx.fillRect(e,r,o,i||o),n.Z.ctx.fill(),n.Z.ctx.closePath()}},{key:"square",get:function(){return d(t,t,v)}},{key:"currents",value:function(e,r){var n=d(t,t,v).find((function(t){return(0,i.BF)(e,r,{width:t.width,height:t.height,x:t.x,y:t.y})})),a=o.Z.text.find((function(t){return t.uid===(null==n?void 0:n.uid)}));return[n,a]}},{key:"pop",value:function(){var e=d(this,t,v).pop(),r=o.Z.text.find((function(t){return t.uid===(null==e?void 0:e.uid)}));r&&o.Z.deleteTextById(r.uid)}},{key:"down",value:function(e,r){var o,i,a=(o=t.currents(e,r),i=2,function(t){if(Array.isArray(t))return t}(o)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(o,i)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[0],l=a[1];if(u)return n.Z.isMoving=!0,{currents:[u,l],lx:e,ly:r}}}],(r=[{key:"add",value:function(e){var r=e.name,n=e.x,i=e.y,c=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(e,u),l=(0,a.E)();d(t,t,v).push(f(f({},c),{},{x:n,y:i,uid:l,name:r,type:this.type})),o.Z.add({uid:l,name:r,x:n+c.width/2,y:i+(c.height||c.width)/2})}}])&&y(e.prototype,r),l&&y(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}(),v={writable:!0,value:[]}},393:(t,e,r)=>{"use strict";r.d(e,{Z:()=>c});var n=r(258);function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r){return u(t,e),a(r,"get"),function(t,e){return e.get?e.get.call(t):e.value}(t,r)}function a(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}function u(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"draw",value:function(t){var e=t.x,r=t.y,o=t.name,i=t.color;n.Z.ctx.beginPath(),n.Z.ctx.fillStyle=i||"#fff",n.Z.ctx.font="15px Arial",n.Z.ctx.textAlign="center",n.Z.ctx.textBaseline="middle",n.Z.ctx.fillText(o,e,r),n.Z.ctx.closePath()}},{key:"text",get:function(){return i(t,t,l)}},{key:"add",value:function(e){i(t,t,l).push(e)}},{key:"deleteTextByName",value:function(e){var r,n,o,c;r=t,n=t,o=l,c=i(t,t,l).filter((function(t){return t.uid!==e})),u(r,n),a(o,"set"),function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(r,o,c)}}],null&&o(e.prototype,null),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),l={writable:!0,value:[]}},769:(t,e,r)=>{"use strict";r.d(e,{BF:()=>o,O0:()=>n,X:()=>i});var n=function(t,e,r,n,o,i){var a=t-n,u=e-o;if(r+i>Math.sqrt(a*a+u*u))return!0},o=function(t,e,r){return t+0>=r.x&&t<=r.x+r.width&&e+0>=r.y&&e<=r.y+(r.height||r.width)},i=function(t,e,r,n){return e.filter((function(e){return e.uid!==t.uid})).map((function(e){return t.y===e.y?{mt:{x:0,y:t.y},lt:{x:r,y:t.y}}:t.x===e.x?{mt:{x:t.x,y:0},lt:{x:t.x,y:n}}:e.y+e.width===t.y?{mt:{x:0,y:e.y+e.width},lt:{x:r,y:e.y+e.width}}:e.x+e.width===t.x?{mt:{x:t.x,y:0},lt:{x:t.x,y:n}}:t.x+t.width===e.x?{mt:{x:t.x+t.width,y:0},lt:{x:t.x+t.width,y:n}}:t.y+t.width===e.y?{mt:{x:0,y:t.y+t.width},lt:{x:r,y:t.y+t.width}}:t.x+t.width===e.x?{mt:{x:t.x+t.width,y:0},lt:{x:t.x+t.width,y:n}}:void 0})).filter((function(t){return void 0!==t}))}},614:(t,e,r)=>{"use strict";r.d(e,{E:()=>n});var n=function(){return"".concat((new Date).valueOf()).concat(Math.floor(999*Math.random())+1)}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}return r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r(352)})()));